<div class="row">
  <div class="col-md-12 outer">
    <ng-container *ngIf="!reOcurringCall">
      <div class="row container" *ngFor="let c1 of firstLevelComments; let i = index">
        <ng-container *ngIf="c1.innerComments">
          <div class="row" *ngFor="let innerComment of c1.innerComments; let j = index">
            <ul>
              <li>
                <form #f="ngForm" (ngSubmit)="addComment(f)">
                  <div *ngIf="j === 0" class="row form-group">
                    <div class="col-md-12">
                      <div class="row">
                        <h4>{{ c1.self.text }}</h4>
                      </div>
                      <div class="row"><label for="#{{ c1.self._id }}">reply</label></div>
                      <div class="row"><textarea type="text" name="{{ c1.self._id }}" id="{{ c1.self._id }}" ngModel></textarea></div>
                      <div class="row"><input type="submit" id="btn{{ c1.self._id }}" /></div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-12 ml-5">
                      <div class="row">
                        <h6>{{ innerComment.text }}</h6>
                      </div>
                      <div class="row"><label for="#{{ innerComment._id }}">reply</label></div>
                      <div class="row">
                        <textarea type="text" name="{{ innerComment._id }}" id="{{ innerComment._id }}" ngModel></textarea>
                      </div>
                      <div class="row"><input type="submit" id="btn{{ innerComment._id }}" class="float-right" /></div>
                    </div>
                  </div>
                </form>

                <app-show-comments
                  *ngIf="innerComment.children.data && innerComment.children.data.length"
                  [innerComments]="innerComment.children.data"
                  [reOcurringCall]="true"
                >
                </app-show-comments>
              </li>
            </ul>
          </div>
        </ng-container>
        <ng-container *ngIf="(!c1.innerComments || !c1.innerComments.length) && c1.self.text">
          <ul>
            <li>
              <form #f="ngForm" (ngSubmit)="addComment(f)">
                <div class="form-group">
                  <div class="row">
                    <div class="col-md-12">
                      <div class="row">
                        <h5>{{ c1.self.text }}</h5>
                      </div>
                      <div class="row"><label for="#{{ c1.self._id }}">reply</label></div>
                      <div class="row"><textarea type="text" name="{{ c1.self._id }}" id="{{ c1.self._id }}" ngModel></textarea></div>

                      <div class="row"><button type="submit" class="float-right">submit</button></div>

                      <div class="row"></div>
                    </div>
                  </div>
                </div>
              </form>
            </li>
          </ul>
        </ng-container>
      </div>
    </ng-container>
    <ng-container *ngIf="reOcurringCall">
      <div class="row ml-5 border-left" *ngFor="let innerComment of innerComments">
        <ul>
          <li>
            <form #f="ngForm" (ngSubmit)="addComment(f)">
              <div class="from-group">
                <div class="row ml-5">
                  <div class="col-md-12">
                    <div class="row">
                      <h6>{{ innerComment.text }}</h6>
                    </div>
                    <div class="row"><label for="#{{ innerComment._id }}">reply</label></div>
                    <div class="row">
                      <textarea type="text" name="{{ innerComment._id }}" id="{{ innerComment._id }}" ngModel></textarea>
                    </div>
                    <div class="row"><input type="submit" id="btn{{ innerComment._id }}" /></div>
                  </div>
                </div>
              </div>
            </form>

            <app-show-comments
              *ngIf="innerComment.children.data && innerComment.children.data.length"
              [innerComments]="innerComment.children.data"
              [reOcurringCall]="true"
            ></app-show-comments>
          </li>
        </ul>
      </div>
    </ng-container>
  </div>
</div>
