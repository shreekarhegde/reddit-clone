<div class="row mt-3">
  <div class="col-md-2 "></div>

  <div class="col-md-6">
    <div class="spinner" *ngIf="isStillLoading">
      <mat-spinner></mat-spinner>
      <p>Loading posts...</p>
    </div>
    <div *ngIf="posts.length === 0 && !isStillLoading" class="mt-5 pt-5">
      <p>There is nothing to display. Subscribe communities of your interest to see contents from them.</p>
    </div>
    <ul>
      <li *ngFor="let post of posts">
        <div class="row mb-3 mr-3 border bg-white">
          <div class="col-md-1 bg-light">
            <div class="vote-buttons p-3 h-100">
              <i class="fas fa-arrow-up pointer" (click)="upvote(post._id)"></i>
              <p class="votes">{{ post?.upvotes }}</p>
              <i class="fas fa-arrow-down pointer" (click)="downvote(post._id)"></i>
            </div>
          </div>
          <div class="col-md-11">
            <div class="row">
              <div class="col-md-12">
                <div class="row bg-white m-3">
                  <div class="content d-flex flex-column w-100">
                    <div class=" d-flex flex-row justify-content-between ">
                      <p class="btn btn-link pointer" [routerLink]="['/r/communities', post.communityID._id]">
                        {{ post.communityID.name }}
                      </p>
                      <p class="pointer" [routerLink]="['/users', post.userID._id, 'comments']">
                        <small>posted by</small> {{ post.userID.username }}
                      </p>
                      <small class="mt-1">{{ post.createdTimeIntermsOfHours }}</small>
                    </div>

                    <div class=" pt-2">
                      <h5>{{ post.title }}</h5>
                    </div>
                    <div>
                      <p class="pt-3 pb-3 post-description">{{ post.text }}</p>
                    </div>
                    <div class="d-flex flex-row">
                      <i class="fas fa-comment-alt mt-1 pointer" [routerLink]="['/r/comments', post._id]"> </i
                      ><span class="ml-1 pointer" [routerLink]="['/r/comments', post._id]">{{ post?.comments?.length }} comments </span>
                      <!-- <i class="fas fa-share ml-3"></i
                      ><span class="ml-1">Share</span> -->
                      <!-- <i class="fas fa-check ml-3"></i><span class="ml-1">Approve</span> -->
                      <i class="fas fa-trash-alt ml-3 mt-1 pointer" (click)="deletePost(post._id)" *ngIf="post.creator"></i
                      ><span class="ml-1 pointer" *ngIf="post.creator" (click)="deletePost(post._id)">Remove</span>
                      <!-- <i class="fas fa-dumpster ml-3"> </i
                      ><span class="ml-1">Spam</span> -->
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
    </ul>
  </div>

  <div class="col-md-2 post ">
    <div class="row home bg-white">
      <div class="col-md-12">
        <div class="row "><img src="https://www.redditstatic.com/desktop2x/img/id-cards/home-banner@2x.png" class="w-100 h-100" /></div>
        <div class="row">
          <div class="col-md-12">
            <div class="d-flex  justify-content-around">
              <img src="https://www.redditstatic.com/desktop2x/img/id-cards/snoo-home@2x.png" class="reddit-logo-animal " />
              <h6 class="pt-5 pl-0 mr-5">Home</h6>
            </div>
            <div class="row"><p class="m-1">Your personal Reddit frontpage. Come here to check in with your favorite communities.</p></div>
          </div>
        </div>
      </div>
    </div>
    <div class="row bg-white"><button class="btn btn-primary m-2 text-white w-100" [routerLink]="['submit']">CREATE POST</button></div>
    <div class="row bg-white">
      <button class="btn border-primary  m-2 text-primary w-100 bg-white" [routerLink]="['communities']">CREATE COMMUNITY</button>
    </div>
    <div class="row">
      <app-subscribe-a-community class="w-100"></app-subscribe-a-community>
    </div>
  </div>

  <div class="col-md-2 "></div>
</div>
